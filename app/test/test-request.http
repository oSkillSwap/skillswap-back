

@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTEsImVtYWlsIjoiZXJ3YW5uQGdtYWlsLmNvbSIsInVzZXJuYW1lIjoiRXJ3YW5uIiwiaWF0IjoxNzQ1ODUzNzc1LCJleHAiOjE3NDU4NjA5NzV9.ImFIj1awAT_uxt-5SmXkThA3RD-l6kIbbNpTNXmXvh4


### Register a user
POST http://localhost:3000/api/register
Content-Type: application/json

{

  "username": "Greg",
  "lastName": "greg",
  "firstName": "greg",
  "email": "greg@gmail.com",
  "password": "ErwanMettouchi1234+",
  "avatar": "",
  "role": "member",
  "description": "Travail en boucle"
}


###login a user
POST http://localhost:3000/api/login
Content-Type: application/json

{

  "email": "erwann@gmail.com",
  "password": "ErwanMettouchi1234+"
}


###Test the JWT connexion
GET http://localhost:3000/api/me
Authorization: Bearer {{token}}

###
GET http://localhost:3000/api/users

### GET all reviews
GET http://localhost:3000/api/reviews

###GET review by author
GET http://localhost:3000/api/reviews/5

###GET all categories
GET http://localhost:3000/api/categories

###GET all my messages
GET http://localhost:3000/api/me/messages
Authorization: Bearer {{token}}

###GET messages with user
GET http://localhost:3000/api/me/messages/16
Authorization: Bearer {{token}}

###
POST http://localhost:3000/api/me/messages/16
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "message" : "<b>Bonjour 3</b>"
}

### GET all posts written by 1 user
GET http://localhost:3000/api/posts/5

### GET all posts
GET http://localhost:3000/api/posts

### GET all posts
GET http://localhost:3000/api/me/posts
Authorization: Bearer {{token}}

### create new post
POST http://localhost:3000/api/me/posts
Authorization: Bearer {{token}}
Content-Type: application/json

{

  "title": "un test de post",
  "content" : "un texte de test",
  "skill_id" : 11
}

###
GET http://localhost:3000/api/users/follows/1



###
GET http://localhost:3000/api/skills

###
GET http://localhost:3000/api/propositions/1




################ USER PROFILES #######################

### 1. Normal Update
PATCH http://localhost:3000/api/me
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "username": "ErwanMisAJour",
  "description": "Nouvelle description après mise à jour"
}

###
### Fail to change already Used email
PATCH http://localhost:3000/api/me
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "email": "mathieu@gmail.com"
}

###
### Empty request should fail
PATCH http://localhost:3000/api/me
Authorization: Bearer {{token}}
Content-Type: application/json

{
}

### Update All fields at once
PATCH http://localhost:3000/api/me

###
GET http://localhost:3000/api/users/500

###
GET http://localhost:3000/api/me/users
Authorization: Bearer {{token}}

###
GET http://localhost:3000/api/me/propositions
Authorization: Bearer {{token}}

###
POST http://localhost:3000/api/me/propositions/31
Authorization: Bearer {{token}}
Content-Type: application/json
{
  "content" : "une proposition"
}


### Accept a proposition
PATCH http://localhost:3000/api/propositions/23/accept
Authorization: Bearer {{token}}
Content-Type: application/json

### Create a review
POST http://localhost:3000/api/reviews
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "title": "Super collaboration",
  "postId": 31,
  "propositionId": 23,
  "grade": 5,
  "comment": "Super collaboration, très professionnel !"
}
 

###
DELETE http://localhost:3000/api/me
Authorization: Bearer {{token}}

###
GET http://localhost:3000/api/me/follows
Authorization: Bearer {{token}}

###
POST http://localhost:3000/api/me/follow/11
Authorization: Bearer {{token}}

###
DELETE http://localhost:3000/api/me/follow/12
Authorization: Bearer {{token}}

